<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_move_form_inh" model="ir.ui.view">
        <field name="name">view_move_form_inh</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">

            <xpath expr="//form[1]/sheet[1]/group[1]/group[1]/field[@name='ref']" position="after">
                <field name="xas_tracking_id" options="{&quot;no_create&quot;:false,&quot;no_open&quot;:false,&quot;no_quick_create&quot;:true,&quot;no_create_edit&quot;:true}" domain="[]" force_save="0" readonly="False" required="False"/>
                <field name="xas_trip_number_id" force_save="0" readonly="False" options="{&quot;no_create_edit&quot;:true,&quot;no_create&quot;:false,&quot;no_quick_create&quot;:true}"/>
            </xpath>

            <field name="product_id" position="after">
                <field name="xas_tracking_id"/>
                <field name="xas_trip_number_id"/>
            </field>

            <!-- Se agregan campos de cálculo de liquidaciones -->
            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='invoice_tab']/field[@name='invoice_line_ids']/tree[1]/field[@name='price_subtotal']" position="after">
                <field name="xas_negotiation" optional="show"/>
                <field name="xas_sale_result" column_invisible="parent.xas_negotiation != 'commission'"/>
                <field name="xas_total_result" column_invisible="parent.xas_negotiation != 'commission'"/>
                <field name="xas_difference" column_invisible="parent.xas_negotiation != 'commission'"/>
                <field name="xas_suggested_price" column_invisible="parent.xas_negotiation != 'commission'"/>
            </xpath>

            <xpath expr="//div[@name='journal_div']" position="after">
                <field name="xas_negotiation" readonly="0"/>
            </xpath>
        </field>
    </record>

    <!-- Herencia de vista busqueda para Facturas de clientes y proveedores -->
    <record id="view_account_invoice_filter_inherit" model="ir.ui.view">
        <field name="name">view_account_invoice_filter_inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_account_invoice_filter"/>
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="xas_tracking_id"/>
                <field name="xas_trip_number_id"/>
            </field>
            <xpath expr="//group" position="inside">
                <filter string="Id de seguimiento" name="xas_tracking_id" domain="[]" context="{'group_by': 'xas_tracking_id'}"/>
                <filter string="Código de embarque" name="xas_trip_number_id" domain="[]" context="{'group_by': 'xas_trip_number_id'}"/>
            </xpath>
        </field>
    </record>

    <!-- Herencia de vista busqueda para Facturas de proveedor -->
    <!--<record id="account_invoice_filter_inherit_account_3way_match_inherit" model="ir.ui.view">
        <field name="name">account_invoice_filter_inherit_account_3way_match_inherit</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account_3way_match.account_invoice_filter_inherit_account_3way_match"/>
        <field name="arch" type="xml">
            <field name="name" position="after">
                <field name="xas_tracking_id"/>
                <field name="xas_trip_number_id"/>
            </field>
            <xpath expr="//group" position="inside">
                <filter string="Id de seguimiento" name="xas_tracking_id" domain="[]" context="{'group_by': 'xas_tracking_id'}"/>
                <filter string="Código de embarque" name="xas_trip_number_id" domain="[]" context="{'group_by': 'xas_trip_number_id'}"/>
            </xpath>
        </field>
    </record>-->
</odoo>